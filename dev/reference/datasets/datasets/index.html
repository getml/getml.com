<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=...><meta name=author content="Code17 GmbH"><link href="https://dev.getml.com/latest/reference/datasets/datasets/" rel="canonical"><link href=../../database/database/ rel=prev><link href=../../engine/engine/ rel=next><link rel=icon href=../../../images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.39+insiders-4.53.14"><title>Datasets - getML Developer Portal</title><link rel=stylesheet href=../../../assets/stylesheets/main.fd1ad6e4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=stylesheet href=../../../assets/stylesheets/custom.css><link rel=stylesheet href=../../../assets/stylesheets/getml.css><link rel=stylesheet href=../../../assets/stylesheets/api-reference.css><link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#getml.datasets class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="getML Developer Portal" class="md-header__button md-logo" aria-label="getML Developer Portal" data-md-component=logo> <img id=logo_light_mode src=../../../assets/brand/getml-light.svg alt=logo> <img id=logo_dark_mode src=../../../assets/brand/getml-dark.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic__nover> <span class="md-ellipsis hidden"> getML Developer Portal </span> </div> <div class=md-header__topic__nover data-md-component=header-topic> <span class=md-ellipsis> Datasets </span> </div> </div> </div> <div class=md-header__version> <div class="md-header__topic version-button"> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg version=1.1 viewbox="0 0 512 512"> <g> <g id=Layer_1> <path d=M361.5,1.2c5,2.1,8.6,6.6,9.6,11.9l19.9,107.9,107.9,19.8c5.3,1,9.8,4.6,11.9,9.6,2.1,5,1.5,10.7-1.6,15.2l-62.3,90.4,62.3,90.3c3.1,4.5,3.7,10.2,1.6,15.2s-6.6,8.6-11.9,9.6l-107.9,19.9-19.9,107.9c-1,5.3-4.6,9.8-9.6,11.9-5,2.1-10.7,1.5-15.2-1.6l-90.3-62.3-90.3,62.3c-4.5,3.1-10.2,3.7-15.2,1.6s-8.6-6.6-9.6-11.9l-19.9-107.9-107.9-19.9c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7,1.6-15.2l62.3-90.3L2.8,165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6,11.9-9.6l107.9-19.9,19.9-107.9c1-5.3,4.6-9.8,9.6-11.9s10.7-1.5,15.2,1.6l90.3,62.3L346.3,2.8c4.5-3.1,10.2-3.7,15.2-1.6ZM384,256c0-70.7-57.3-128-128-128s-128,57.3-128,128,57.3,128,128,128,128-57.3,128-128Z /> </g> </g> </svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=deep-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><defs><style>.fa-secondary{opacity:.4}</style></defs><path class=fa-primary d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=deep-purple aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg version=1.1 viewbox="0 0 576 512"> <defs> <style>
      .cls-1 {
        isolation: isolate;
        opacity: .4;
      }
    </style> </defs> <g> <g id=Layer_1> <g id=Layer_1-2 data-name=Layer_1> <path d=M24,355h528c13.3,0,24,10.7,24,24s-10.7,24-24,24H24c-13.3,0-24-10.7-24-24s10.7-24,24-24Z /> <path class=cls-1 d=M403.1,92.1c-1-5.3-4.6-9.8-9.6-11.9s-10.7-1.5-15.2,1.6l-90.3,62.3-90.3-62.3c-4.5-3.1-10.2-3.7-15.2-1.6s-8.6,6.6-9.6,11.9l-19.9,107.9-107.9,19.9c-5.3,1-9.8,4.6-11.9,9.6s-1.5,10.7,1.6,15.2l51.3,74.3h74.9c7.9-63.1,61.7-112,127-112s119.1,48.9,127,112h74.9l51.3-74.3c3.1-4.5,3.7-10.2,1.6-15.2s-6.6-8.6-11.9-9.6l-107.9-19.9-19.9-107.9h0ZM382.7,319c-7.6-45.4-47.1-80-94.7-80s-87.1,34.6-94.7,80h189.4Z /> </g> </g> </g> </svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <a class="md-header__button md-button md-button--primary" href=../../../contact>Contact</a> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../user_guide/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../install/ class=md-tabs__link> Install </a> </li> <li class=md-tabs__item> <a href=../../../enterprise/ class=md-tabs__link> Enterprise </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../../examples/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../../../about/company/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../blog/ class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href="https://docs.getml.com" class="md-tabs__link" target="_blank" rel="noopener"> getML 1.4 doc </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="getML Developer Portal" class="md-nav__button md-logo" aria-label="getML Developer Portal" data-md-component=logo> <img id=logo_light_mode src=../../../assets/brand/getml-light.svg alt=logo> <img id=logo_dark_mode src=../../../assets/brand/getml-dark.svg alt=logo> </a> getML Developer Portal </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../user_guide/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../install/ class=md-nav__link> <span class=md-ellipsis> Install </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../enterprise/ class=md-nav__link> <span class=md-ellipsis> Enterprise </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> API Reference </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../ class="md-nav__link "> <span class=md-ellipsis> Python API </span> </a> <label class="md-nav__link " for=__nav_5_2 id=__nav_5_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Python API </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../data/ class=md-nav__link> <span class=md-ellipsis> getml.data </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../database/database/ class=md-nav__link> <span class=md-ellipsis> getml.database </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> getml.datasets </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> getml.datasets </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#getml.datasets.load_air_pollution class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_air_pollution </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_atherosclerosis class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_atherosclerosis </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_biodegradability class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_biodegradability </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_consumer_expenditures class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_consumer_expenditures </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_interstate94 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_interstate94 </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_loans class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_loans </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_occupancy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_occupancy </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_categorical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_categorical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_discrete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_discrete </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_numerical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_numerical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_same_units_categorical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_same_units_categorical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_same_units_numerical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_same_units_numerical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_snowflake class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_snowflake </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.base.DataFrameT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DataFrameT </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../engine/engine/ class=md-nav__link> <span class=md-ellipsis> getml.engine </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../hyperopt/ class=md-nav__link> <span class=md-ellipsis> getml.hyperopt </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../feature_learning/ class=md-nav__link> <span class=md-ellipsis> getml.feature_learning </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../project/ class=md-nav__link> <span class=md-ellipsis> getml.project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../preprocessors/ class=md-nav__link> <span class=md-ellipsis> getml.preprocessors </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../pipeline/ class=md-nav__link> <span class=md-ellipsis> getml.pipeline </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../predictors/ class=md-nav__link> <span class=md-ellipsis> getml.predictors </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../sqlite3/ class=md-nav__link> <span class=md-ellipsis> getml.sqlite3 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex> <span class=md-ellipsis> Command Line </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Command Line </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/engine/ class=md-nav__link> <span class=md-ellipsis> Engine CLI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../about/company/ class=md-nav__link> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href="https://docs.getml.com" class="md-nav__link" target="_blank" rel="noopener"> <span class=md-ellipsis> getML 1.4 doc </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#getml.datasets.load_air_pollution class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_air_pollution </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_atherosclerosis class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_atherosclerosis </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_biodegradability class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_biodegradability </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_consumer_expenditures class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_consumer_expenditures </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_interstate94 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_interstate94 </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_loans class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_loans </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.load_occupancy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;load_occupancy </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_categorical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_categorical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_discrete class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_discrete </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_numerical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_numerical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_same_units_categorical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_same_units_categorical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_same_units_numerical class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_same_units_numerical </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.make_snowflake class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;make_snowflake </span> </a> </li> <li class=md-nav__item> <a href=#getml.datasets.base.DataFrameT class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;DataFrameT </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../.. class=md-path__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class=md-path__item> <a href=../../ class=md-path__link> <span class=md-ellipsis> Python API </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <div class="doc doc-object doc-module"> <h1 id=getml.datasets class="doc doc-heading"> <span class="doc doc-object-name doc-module-name">getml.datasets</span> </h1> <div class="doc doc-contents first"> <p>The <a class="autorefs autorefs-internal" href=#getml.datasets><code>datasets</code></a> module includes utilities to load datasets, including methods to load and fetch popular reference datasets. It also features some artificial data generators.</p> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_air_pollution class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_air_pollution</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_air_pollution</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span> <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Regression dataset on air pollution in Beijing, China</p> <p>The dataset consists of a single table split into train and test sets around 2014-01-01.</p> <div class="admonition abstract"> <p class=admonition-title>Reference</p> <p>Liang, X., Zou, T., Guo, B., Li, S., Zhang, H., Zhang, S., Huang, H. and Chen, S. X. (2015). Assessing Beijing's PM2.5 pollution: severity, weather impact, APEC and winter heating. Proceedings of the Royal Society A, 471, 20150257.</p> </div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>A DataFrame holding the data described above.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>air_pollution</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <p><div class=highlight><pre><span></span><code><span class=n>air_pollution</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_air_pollution</span><span class=p>()</span>
<span class=nb>type</span><span class=p>(</span><span class=n>air_pollution</span><span class=p>)</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> For a full analysis of the atherosclerosis dataset including all necessary preprocessing steps please refer to <a href="https://github.com/getml/getml-demo/blob/master/air_pollution.ipynb" target="_blank" rel="noopener">getml-demo </a>.</p> </details> <details class=note open> <summary>Note</summary> <p>Roles can be set ad-hoc by supplying the respective flag. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. This dataset contains no units. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_air_pollution</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DataFrameT</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Regression dataset on air pollution in Beijing, China</span>

<span class=sd>    The dataset consists of a single table split into train and test sets</span>
<span class=sd>    around 2014-01-01.</span>

<span class=sd>    !!! abstract &quot;Reference&quot;</span>
<span class=sd>        Liang, X., Zou, T., Guo, B., Li, S., Zhang, H., Zhang, S., Huang, H. and</span>
<span class=sd>        Chen, S. X. (2015). Assessing Beijing&#39;s PM2.5 pollution: severity, weather</span>
<span class=sd>        impact, APEC and winter heating. Proceedings of the Royal Society A, 471,</span>
<span class=sd>        20150257.</span>

<span class=sd>    Args:</span>
<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame`</span>

<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>    Returns:</span>
<span class=sd>        A DataFrame holding the data described above.</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            * `air_pollution`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        air_pollution = getml.datasets.load_air_pollution()</span>
<span class=sd>        type(air_pollution)</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>
<span class=sd>        For a full analysis of the atherosclerosis dataset including all necessary</span>
<span class=sd>        preprocessing steps please refer to [getml-demo</span>
<span class=sd>        ](https://github.com/getml/getml-demo/blob/master/air_pollution.ipynb).</span>


<span class=sd>    Note:</span>
<span class=sd>        Roles can be set ad-hoc by supplying the respective flag. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float]. This dataset contains no units.</span>
<span class=sd>        Before using them in an analysis, a data model needs to be constructed</span>
<span class=sd>        using [`Placeholder`][getml.data.Placeholder].</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;air_pollution&quot;</span>

    <span class=n>dataset</span> <span class=o>=</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>dataset</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>),</span> <span class=s2>&quot;Expected a tuple&quot;</span>
    <span class=k>return</span> <span class=n>dataset</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_atherosclerosis class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_atherosclerosis</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_atherosclerosis</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>]]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Binary classification dataset on the lethality of atherosclerosis</p> <p>The atherosclerosis dataset is a medical dataset from the <a href="https://relational-data.org/dataset/Atherosclerosis" target="_blank" rel="noopener">Relational Dataset Repository (former CTU Prague Relational Learning Repository) </a>. It contains information from a longitudinal study on 1417 middle-aged men observed over the course of 20 years. After preprocessing, it consists of 2 tables with 76 and 66 columns:</p> <ul> <li> <p><code>population</code>: Data on the study's participants</p> </li> <li> <p><code>contr</code>: Data on control dates</p> </li> </ul> <p>The population table is split into a training (70%), a testing (15%) set and a validation (15%) set.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code> s</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_dict</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as dict with <code>df.name</code> as keys and <code>df</code> as values.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a>[<a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>, ...], <a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a>, <a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>Tuple containing (sorted alphabetically by <code>df.name</code>) the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True) or if <code>as_dict</code> is <code>True</code>: Dictionary containing the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True). The keys correspond to the name of the DataFrame on the <a class="autorefs autorefs-internal" href=../../engine/engine/#getml.engine><code>engine</code></a>.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>population</code></li> <li><code>contr</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <p><div class=highlight><pre><span></span><code><span class=n>population</span><span class=p>,</span> <span class=n>contr</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_atherosclerosis</span><span class=p>()</span>
<span class=nb>type</span><span class=p>(</span><span class=n>population</span><span class=p>)</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> For a full analysis of the atherosclerosis dataset including all necessary preprocessing steps please refer to <a href="https://github.com/getml/getml-demo/blob/master/atherosclerosis.ipynb" target="_blank" rel="noopener">getml-examples </a>.</p> </details> <details class=note open> <summary>Note</summary> <p>Roles can be set ad-hoc by supplying the respective flag. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. This dataset contains no units. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_atherosclerosis</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrameT</span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>DataFrameT</span><span class=p>]]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Binary classification dataset on the lethality of atherosclerosis</span>

<span class=sd>    The atherosclerosis dataset is a medical dataset from the [Relational Dataset Repository (former CTU Prague</span>
<span class=sd>    Relational Learning Repository)</span>
<span class=sd>    ](https://relational-data.org/dataset/Atherosclerosis). It contains</span>
<span class=sd>    information from a longitudinal study on 1417 middle-aged men observed over</span>
<span class=sd>    the course of 20 years. After preprocessing, it consists of 2 tables with 76</span>
<span class=sd>    and 66 columns:</span>

<span class=sd>    * `population`: Data on the study&#39;s participants</span>

<span class=sd>    * `contr`: Data on control dates</span>

<span class=sd>    The population table is split into a training (70%), a testing (15%) set and a</span>
<span class=sd>    validation (15%) set.</span>

<span class=sd>    Args:</span>
<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame` s</span>

<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>        as_dict:</span>
<span class=sd>            Return data as dict with `df.name` as keys and</span>
<span class=sd>            `df` as values.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Tuple containing (sorted alphabetically by `df.name`) the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True) or</span>
<span class=sd>            if `as_dict` is `True`: Dictionary containing the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True). The keys correspond to the name of the DataFrame on the</span>
<span class=sd>            [`engine`][getml.engine].</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            - `population`</span>
<span class=sd>            - `contr`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        population, contr = getml.datasets.load_atherosclerosis()</span>
<span class=sd>        type(population)</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>
<span class=sd>        For a full analysis of the atherosclerosis dataset including all necessary</span>
<span class=sd>        preprocessing steps please refer to [getml-examples</span>
<span class=sd>        ](https://github.com/getml/getml-demo/blob/master/atherosclerosis.ipynb).</span>


<span class=sd>    Note:</span>
<span class=sd>        Roles can be set ad-hoc by supplying the respective flag. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float]. This dataset contains no units.</span>
<span class=sd>        Before using them in an analysis, a data model needs to be constructed</span>
<span class=sd>        using [`Placeholder`][getml.data.Placeholder].</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;atherosclerosis&quot;</span>

    <span class=k>return</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
        <span class=n>as_dict</span><span class=o>=</span><span class=n>as_dict</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_biodegradability class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_biodegradability</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_biodegradability</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>]]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Regression dataset on molecule weight prediction</p> <p>The QSAR biodegradation dataset was built in the Milano Chemometrics and QSAR Research Group (Universita degli Studi Milano-Bicocca, Milano, Italy). The data have been used to develop QSAR (Quantitative Structure Activity Relationships) models for the study of the relationships between chemical structure and biodegradation of molecules. Biodegradation experimental values of 1055 chemicals were collected from the webpage of the National Institute of Technology and Evaluation of Japan (NITE).</p> <div class="admonition abstract"> <p class=admonition-title>Reference</p> <p>Mansouri, K., Ringsted, T., Ballabio, D., Todeschini, R., Consonni, V. (2013). Quantitative Structure - Activity Relationship models for ready biodegradability of chemicals. Journal of Chemical Information and Modeling, 53, 867-878</p> </div> <p>The dataset was collected through the <a href="https://relational-data.org/dataset/Biodegradability" target="_blank" rel="noopener">Relational Dataset Repository (former CTU Prague Relational Learning Repository)</a></p> <p>It contains information on 1309 molecules with 6166 bonds. It consists of 5 tables.</p> <p>The population table is split into a training (50 %) and a testing (25%) and validation (25%) sets.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_dict</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as dict with <code>df.name</code> as keys and <code>df</code> as values.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a>[<a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>, ...], <a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a>, <a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>Tuple containing (sorted alphabetically by <code>df.name</code>) the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True) or if <code>as_dict</code> is <code>True</code>: Dictionary containing the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True). The keys correspond to the name of the DataFrame on the <a class="autorefs autorefs-internal" href=../../engine/engine/#getml.engine><code>engine</code></a>.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>molecule</code></li> <li><code>atom</code></li> <li><code>bond</code></li> <li><code>gmember</code></li> <li><code>group</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <div class=highlight><pre><span></span><code><span class=n>biodegradability</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_biodegradability</span><span class=p>(</span><span class=n>as_dict</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=nb>type</span><span class=p>(</span><span class=n>biodegradability</span><span class=p>[</span><span class=s2>&quot;molecule_train&quot;</span><span class=p>])</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> </details> <details class=note open> <summary>Note</summary> <p>Roles can be set ad-hoc by supplying the respective flag. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. This dataset contains no units. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_biodegradability</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrameT</span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>DataFrameT</span><span class=p>]]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Regression dataset on molecule weight prediction</span>

<span class=sd>    The QSAR biodegradation dataset was built in the Milano Chemometrics and</span>
<span class=sd>    QSAR Research Group (Universita degli Studi Milano-Bicocca, Milano, Italy).</span>
<span class=sd>    The data have been used to develop QSAR (Quantitative Structure Activity</span>
<span class=sd>    Relationships) models for the study of the relationships between chemical</span>
<span class=sd>    structure and biodegradation of molecules. Biodegradation experimental</span>
<span class=sd>    values of 1055 chemicals were collected from the webpage of the National</span>
<span class=sd>    Institute of Technology and Evaluation of Japan (NITE).</span>

<span class=sd>    !!! abstract &quot;Reference&quot;</span>
<span class=sd>        Mansouri, K., Ringsted, T., Ballabio, D., Todeschini, R., Consonni, V.</span>
<span class=sd>        (2013). Quantitative Structure - Activity Relationship models for ready</span>
<span class=sd>        biodegradability of chemicals. Journal of Chemical Information and Modeling,</span>
<span class=sd>        53, 867-878</span>

<span class=sd>    The dataset was collected through the [Relational Dataset Repository (former CTU Prague</span>
<span class=sd>    Relational Learning Repository)](https://relational-data.org/dataset/Biodegradability)</span>

<span class=sd>    It contains information on 1309 molecules with 6166 bonds. It consists of 5</span>
<span class=sd>    tables.</span>

<span class=sd>    The population table is split into a training (50 %) and a testing (25%) and</span>
<span class=sd>    validation (25%) sets.</span>

<span class=sd>    Args:</span>
<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame`</span>

<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>        as_dict:</span>
<span class=sd>            Return data as dict with `df.name` as keys and</span>
<span class=sd>            `df` as values.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Tuple containing (sorted alphabetically by `df.name`) the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True) or if `as_dict` is `True`: Dictionary containing the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True). The keys correspond to the name of the DataFrame on the</span>
<span class=sd>            [`engine`][getml.engine].</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            * `molecule`</span>
<span class=sd>            * `atom`</span>
<span class=sd>            * `bond`</span>
<span class=sd>            * `gmember`</span>
<span class=sd>            * `group`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        biodegradability = getml.datasets.load_biodegradability(as_dict=True)</span>
<span class=sd>        type(biodegradability[&quot;molecule_train&quot;])</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>

<span class=sd>    Note:</span>
<span class=sd>        Roles can be set ad-hoc by supplying the respective flag. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float]. This dataset contains no units.</span>
<span class=sd>        Before using them in an analysis, a data model needs to be constructed</span>
<span class=sd>        using [`Placeholder`][getml.data.Placeholder].</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;biodegradability&quot;</span>

    <span class=k>return</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
        <span class=n>as_dict</span><span class=o>=</span><span class=n>as_dict</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_consumer_expenditures class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_consumer_expenditures</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_consumer_expenditures</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>units</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>]]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Binary classification dataset on consumer expenditures</p> <p>The Consumer Expenditure Data Set is a public domain data set provided by the <a href="https://www.bls.gov/cex/pumd.htm" target="_blank" rel="noopener">American Bureau of Labor Statistics</a>. It includes the diary entries, where American consumers are asked to keep record of the products they have purchased each month.</p> <p>We use this dataset to classify whether an item was purchased as a gift or not.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>units</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with units set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_dict</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as dict with <code>df.name</code> as keys and <code>df</code> as values.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a>[<a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>, ...], <a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a>, <a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>Tuple containing (sorted alphabetically by <code>df.name</code>) the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True) or if <code>as_dict</code> is <code>True</code>: Dictionary containing the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True). The keys correspond to the name of the DataFrame on the <a class="autorefs autorefs-internal" href=../../engine/engine/#getml.engine><code>engine</code></a>.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>population</code></li> <li><code>expd</code></li> <li><code>fmld</code></li> <li><code>memd</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <p><div class=highlight><pre><span></span><code><span class=n>ce</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_consumer_expenditures</span><span class=p>(</span><span class=n>as_dict</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=nb>type</span><span class=p>(</span><span class=n>ce</span><span class=p>[</span><span class=s2>&quot;expd&quot;</span><span class=p>])</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> For a full analysis of the occupancy dataset including all necessary preprocessing steps please refer to <a href="https://github.com/getml/getml-demo/blob/master/consumer_expenditures.ipynb" target="_blank" rel="noopener">getml-examples </a>.</p> </details> <details class=note open> <summary>Note</summary> <p>Roles and units can be set ad-hoc by supplying the respective flag. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_consumer_expenditures</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>units</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrameT</span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>DataFrameT</span><span class=p>]]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Binary classification dataset on consumer expenditures</span>

<span class=sd>    The Consumer Expenditure Data Set is a public domain data set provided by</span>
<span class=sd>    the [American Bureau of Labor Statistics](https://www.bls.gov/cex/pumd.htm).</span>
<span class=sd>    It includes the diary entries, where American consumers are asked to keep</span>
<span class=sd>    record of the products they have purchased each month.</span>

<span class=sd>    We use this dataset to classify whether an item was purchased as a gift or not.</span>

<span class=sd>    Args:</span>
<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>        units:</span>
<span class=sd>            Return data with units set</span>

<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame`</span>

<span class=sd>        as_dict:</span>
<span class=sd>            Return data as dict with `df.name` as keys and</span>
<span class=sd>            `df` as values.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Tuple containing (sorted alphabetically by `df.name`) the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True) or</span>
<span class=sd>            if `as_dict` is `True`: Dictionary containing the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True). The keys correspond to the name of the DataFrame on the</span>
<span class=sd>            [`engine`][getml.engine].</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            * `population`</span>
<span class=sd>            * `expd`</span>
<span class=sd>            * `fmld`</span>
<span class=sd>            * `memd`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        ce = getml.datasets.load_consumer_expenditures(as_dict=True)</span>
<span class=sd>        type(ce[&quot;expd&quot;])</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>
<span class=sd>        For a full analysis of the occupancy dataset including all necessary</span>
<span class=sd>        preprocessing steps please refer to [getml-examples</span>
<span class=sd>        ](https://github.com/getml/getml-demo/blob/master/consumer_expenditures.ipynb).</span>

<span class=sd>    Note:</span>
<span class=sd>        Roles and units can be set ad-hoc by supplying the respective flag. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float].</span>
<span class=sd>        Before using them in an analysis, a data model needs to be constructed</span>
<span class=sd>        using [`Placeholder`][getml.data.Placeholder].</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;consumer_expenditures&quot;</span>

    <span class=k>return</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>units</span><span class=o>=</span><span class=n>units</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
        <span class=n>as_dict</span><span class=o>=</span><span class=n>as_dict</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_interstate94 class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_interstate94</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_interstate94</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>units</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Regression dataset on traffic volume prediction</p> <p>The interstate94 dataset is a multivariate time series containing the hourly traffic volume on I-94 westbound from Minneapolis-St Paul. It is based on data provided by the <a href="https://www.dot.state.mn.us/" target="_blank" rel="noopener">MN Department of Transportation</a>. Some additional data preparation done by <a href="https://github.com/dreyco676/Anomaly_Detection_A_to_Z/" target="_blank" rel="noopener">John Hogue</a>. The dataset features some particular interesting characteristics common for time series, which classical models may struggle to appropriately deal with. Such characteristics are:</p> <ul> <li>High frequency (hourly)</li> <li>Dependence on irregular events (holidays)</li> <li>Strong and overlapping cycles (daily, weekly)</li> <li>Anomalies</li> <li>Multiple seasonalities</li> </ul> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>units</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with units set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>A DataFrame holding the data described above.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>traffic</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <p><div class=highlight><pre><span></span><code><span class=n>traffic</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_interstate94</span><span class=p>()</span>
<span class=nb>type</span><span class=p>(</span><span class=n>traffic</span><span class=p>)</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> For a full analysis of the interstate94 dataset including all necessary preprocessing steps please refer to <a href="https://github.com/getml/getml-demo/blob/master/interstate94.ipynb" target="_blank" rel="noopener">getml-examples</a>.</p> </details> <details class=note open> <summary>Note</summary> <p>Roles and units can be set ad-hoc by supplying the respective flags. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_interstate94</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>units</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>DataFrameT</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Regression dataset on traffic volume prediction</span>

<span class=sd>    The interstate94 dataset is a multivariate time series containing the</span>
<span class=sd>    hourly traffic volume on I-94 westbound from Minneapolis-St Paul. It is</span>
<span class=sd>    based on data provided by the</span>
<span class=sd>    [MN Department of Transportation](https://www.dot.state.mn.us/).</span>
<span class=sd>    Some additional data preparation done by</span>
<span class=sd>    [John Hogue](https://github.com/dreyco676/Anomaly_Detection_A_to_Z/). The</span>
<span class=sd>    dataset features some particular interesting characteristics common for</span>
<span class=sd>    time series, which classical models may struggle to appropriately deal</span>
<span class=sd>    with. Such characteristics are:</span>

<span class=sd>    * High frequency (hourly)</span>
<span class=sd>    * Dependence on irregular events (holidays)</span>
<span class=sd>    * Strong and overlapping cycles (daily, weekly)</span>
<span class=sd>    * Anomalies</span>
<span class=sd>    * Multiple seasonalities</span>

<span class=sd>    Args:</span>
<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>        units:</span>
<span class=sd>            Return data with units set</span>

<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame`</span>

<span class=sd>    Returns:</span>
<span class=sd>        A DataFrame holding the data described above.</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            * `traffic`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        traffic = getml.datasets.load_interstate94()</span>
<span class=sd>        type(traffic)</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>
<span class=sd>        For a full analysis of the interstate94 dataset including all necessary</span>
<span class=sd>        preprocessing steps please refer to [getml-examples](https://github.com/getml/getml-demo/blob/master/interstate94.ipynb).</span>

<span class=sd>    Note:</span>
<span class=sd>        Roles and units can be set ad-hoc by supplying the respective flags. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float]. Before using them in an</span>
<span class=sd>        analysis, a data model needs to be constructed using</span>
<span class=sd>        [`Placeholder`][getml.data.Placeholder].</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;interstate94&quot;</span>
    <span class=n>dataset</span> <span class=o>=</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>units</span><span class=o>=</span><span class=n>units</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
    <span class=p>)</span>
    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>dataset</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>),</span> <span class=s2>&quot;Expected a tuple&quot;</span>
    <span class=k>return</span> <span class=n>dataset</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_loans class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_loans</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_loans</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>units</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>]]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Binary classification dataset on loan default</p> <p>The loans dataset is based on a financial dataset from the <a href="https://relational-data.org/dataset/Financial" target="_blank" rel="noopener">Relational Dataset Repository (former CTU Prague Relational Learning Repository)</a>.</p> <div class="admonition abstract"> <p class=admonition-title>Reference</p> <p>Berka, Petr (1999). Workshop notes on Discovery Challenge PKDD'99.</p> </div> <p>The dataset contains information on 606 successful and 76 unsuccessful loans. After some preprocessing it contains 5 tables</p> <ul> <li> <p><code>account</code>: Information about the borrower(s) of a given loan.</p> </li> <li> <p><code>loan</code>: Information about the loans themselves, such as the date of creation, the amount, and the planned duration of the loan. The target variable is the status of the loan (default/no default)</p> </li> <li> <p><code>meta</code>: Meta information about the obligor, such as gender and geo-information</p> </li> <li> <p><code>order</code>: Information about permanent orders, debited payments and account balances.</p> </li> <li> <p><code>trans</code>: Information about transactions and accounts balances.</p> </li> </ul> <p>The population table is split into a training and a testing set at 80% of the main population.</p> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>units</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with units set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code></p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_dict</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as dict with <code>df.name</code> as keys and <code>df</code> as values.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a>[<a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>, ...], <a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a>, <a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>Tuple containing (sorted alphabetically by <code>df.name</code>) the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True) or if <code>as_dict</code> is <code>True</code>: Dictionary containing the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True). The keys correspond to the name of the DataFrame on the <a class="autorefs autorefs-internal" href=../../engine/engine/#getml.engine><code>engine</code></a>.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>account</code></li> <li><code>loan</code></li> <li><code>meta</code></li> <li><code>order</code></li> <li><code>trans</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <p><div class=highlight><pre><span></span><code><span class=n>loans</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_loans</span><span class=p>(</span><span class=n>as_dict</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=nb>type</span><span class=p>(</span><span class=n>loans</span><span class=p>[</span><span class=s2>&quot;population_train&quot;</span><span class=p>])</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> For a full analysis of the loans dataset including all necessary preprocessing steps please refer to <a href="https://github.com/getml/getml-demo/blob/master/loans.ipynb" target="_blank" rel="noopener">getml-examples </a>.</p> </details> <details class=note open> <summary>Note</summary> <p>Roles and units can be set ad-hoc by supplying the respective flags. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_loans</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>units</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrameT</span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>DataFrameT</span><span class=p>]]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Binary classification dataset on loan default</span>

<span class=sd>    The loans dataset is based on a financial dataset from the [Relational Dataset Repository (former CTU Prague</span>
<span class=sd>    Relational Learning Repository)](https://relational-data.org/dataset/Financial).</span>

<span class=sd>    !!! abstract &quot;Reference&quot;</span>
<span class=sd>        Berka, Petr (1999). Workshop notes on Discovery Challenge PKDD&#39;99.</span>

<span class=sd>    The dataset contains information on 606 successful and 76 unsuccessful</span>
<span class=sd>    loans. After some preprocessing it contains 5 tables</span>

<span class=sd>    * `account`: Information about the borrower(s) of a given loan.</span>

<span class=sd>    * `loan`: Information about the loans themselves, such as the date of creation, the amount, and the planned duration of the loan. The target variable is the status of the loan (default/no default)</span>

<span class=sd>    * `meta`: Meta information about the obligor, such as gender and geo-information</span>

<span class=sd>    * `order`: Information about permanent orders, debited payments and account balances.</span>

<span class=sd>    * `trans`: Information about transactions and accounts balances.</span>

<span class=sd>    The population table is split into a training and a testing set at 80% of the main population.</span>

<span class=sd>    Args:</span>
<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>        units:</span>
<span class=sd>            Return data with units set</span>

<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame`</span>

<span class=sd>        as_dict:</span>
<span class=sd>            Return data as dict with `df.name` as keys and</span>
<span class=sd>            `df` as values.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Tuple containing (sorted alphabetically by `df.name`) the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True) or</span>
<span class=sd>            if `as_dict` is `True`: Dictionary containing the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True). The keys correspond to the name of the DataFrame on the</span>
<span class=sd>            [`engine`][getml.engine].</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            * `account`</span>
<span class=sd>            * `loan`</span>
<span class=sd>            * `meta`</span>
<span class=sd>            * `order`</span>
<span class=sd>            * `trans`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        loans = getml.datasets.load_loans(as_dict=True)</span>
<span class=sd>        type(loans[&quot;population_train&quot;])</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>
<span class=sd>        For a full analysis of the loans dataset including all necessary</span>
<span class=sd>        preprocessing steps please refer to [getml-examples</span>
<span class=sd>        ](https://github.com/getml/getml-demo/blob/master/loans.ipynb).</span>

<span class=sd>    Note:</span>
<span class=sd>        Roles and units can be set ad-hoc by supplying the respective flags. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float]. Before using them in an</span>
<span class=sd>        analysis, a data model needs to be constructed using</span>
<span class=sd>        [`Placeholder`][getml.data.Placeholder].</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;loans&quot;</span>

    <span class=k>return</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>units</span><span class=o>=</span><span class=n>units</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
        <span class=n>as_dict</span><span class=o>=</span><span class=n>as_dict</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.load_occupancy class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">load_occupancy</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>load_occupancy</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n><a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a></span><span class=p>]]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Binary classification dataset on occupancy detection</p> <p>The occupancy detection dataset is a very simple multivariate time series from the <a href="https://archive.ics.uci.edu/dataset/357/occupancy+detection" target="_blank" rel="noopener">UCI Machine Learning Repository </a>. It is a binary classification problem. The task is to predict room occupancy from Temperature, Humidity, Light and CO2.</p> <div class="admonition abstract"> <p class=admonition-title>Reference</p> <p>Candanedo, L. M., &amp; Feldheim, V. (2016). Accurate occupancy detection of an office room from light, temperature, humidity and CO2 measurements using statistical learning models. Energy and Buildings, 112, 28-39.</p> </div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>roles</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data with roles set</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_pandas</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as <code>pandas.DataFrame</code> s</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>as_dict</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Return data as dict with <code>df.name</code> as keys and <code>df</code> as values.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool" target="_blank" rel="noopener">bool</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a>[<a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>, ...], <a class="autorefs autorefs-external" title="typing.Dict" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener">Dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a>, <a class="autorefs autorefs-internal" title=getml.datasets.base.DataFrameT href=#getml.datasets.base.DataFrameT>DataFrameT</a>]]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>Tuple containing (sorted alphabetically by <code>df.name</code>) the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True) or if <code>as_dict</code> is <code>True</code>: Dictionary containing the data as <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> or <code>pandas.DataFrame</code> (if <code>as_pandas</code> is True). The keys correspond to the name of the DataFrame on the <a class="autorefs autorefs-internal" href=../../engine/engine/#getml.engine><code>engine</code></a>.</p> <p>The following DataFrames are returned:</p> <ul> <li><code>population_train</code></li> <li><code>population_test</code></li> <li><code>population_validation</code></li> </ul> </div> </td> </tr> </tbody> </table> <details class=example> <summary>Example</summary> <p><div class=highlight><pre><span></span><code><span class=n>population_train</span><span class=p>,</span> <span class=n>population_test</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>getml</span><span class=o>.</span><span class=n>datasets</span><span class=o>.</span><span class=n>load_occupancy</span><span class=p>()</span>
<span class=nb>type</span><span class=p>(</span><span class=n>occupancy_train</span><span class=p>)</span>
<span class=n>getml</span><span class=o>.</span><span class=n>data</span><span class=o>.</span><span class=n>data_frame</span><span class=o>.</span><span class=n>DataFrame</span>
</code></pre></div> For a full analysis of the occupancy dataset including all necessary preprocessing steps please refer to <a href="https://github.com/getml/getml-demo/blob/master/occupancy.ipynb" target="_blank" rel="noopener">getml-examples </a>.</p> </details> <details class=note open> <summary>Note</summary> <p>Roles can be set ad-hoc by supplying the respective flag. If <code>roles</code> is <code>False</code>, all columns in the returned <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> have roles <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_string><code>unused_string</code></a> or <a class="autorefs autorefs-internal" href=../../data/roles/#getml.data.roles.unused_float><code>unused_float</code></a>. This dataset contains no units. Before using them in an analysis, a data model needs to be constructed using <a class="autorefs autorefs-internal" href=../../data/placeholder/#getml.data.Placeholder><code>Placeholder</code></a>.</p> </details> <details class=quote> <summary>Source code in <code>getml/datasets/base.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span>
<span class=normal>654</span>
<span class=normal>655</span>
<span class=normal>656</span>
<span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span>
<span class=normal>663</span>
<span class=normal>664</span>
<span class=normal>665</span>
<span class=normal>666</span>
<span class=normal>667</span>
<span class=normal>668</span>
<span class=normal>669</span>
<span class=normal>670</span>
<span class=normal>671</span>
<span class=normal>672</span>
<span class=normal>673</span>
<span class=normal>674</span>
<span class=normal>675</span>
<span class=normal>676</span>
<span class=normal>677</span>
<span class=normal>678</span>
<span class=normal>679</span>
<span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span>
<span class=normal>688</span>
<span class=normal>689</span>
<span class=normal>690</span>
<span class=normal>691</span>
<span class=normal>692</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>load_occupancy</span><span class=p>(</span>
    <span class=n>roles</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
    <span class=n>as_pandas</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>as_dict</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Union</span><span class=p>[</span><span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrameT</span><span class=p>,</span> <span class=o>...</span><span class=p>],</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>DataFrameT</span><span class=p>]]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Binary classification dataset on occupancy detection</span>

<span class=sd>    The occupancy detection dataset is a very simple multivariate time series</span>
<span class=sd>    from the [UCI Machine Learning Repository</span>
<span class=sd>    ](https://archive.ics.uci.edu/dataset/357/occupancy+detection). It is a</span>
<span class=sd>    binary classification problem. The task is to predict room occupancy</span>
<span class=sd>    from Temperature, Humidity, Light and CO2.</span>

<span class=sd>    !!! abstract &quot;Reference&quot;</span>
<span class=sd>        Candanedo, L. M., &amp; Feldheim, V. (2016). Accurate occupancy detection of an</span>
<span class=sd>        office room from light, temperature, humidity and CO2 measurements using</span>
<span class=sd>        statistical learning models. Energy and Buildings, 112, 28-39.</span>

<span class=sd>    Args:</span>
<span class=sd>        roles:</span>
<span class=sd>            Return data with roles set</span>

<span class=sd>        as_pandas:</span>
<span class=sd>            Return data as `pandas.DataFrame` s</span>

<span class=sd>        as_dict:</span>
<span class=sd>            Return data as dict with `df.name` as keys and</span>
<span class=sd>            `df` as values.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Tuple containing (sorted alphabetically by `df.name`) the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True) or</span>
<span class=sd>            if `as_dict` is `True`: Dictionary containing the data as</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] or `pandas.DataFrame` (if `as_pandas`</span>
<span class=sd>            is True). The keys correspond to the name of the DataFrame on the</span>
<span class=sd>            [`engine`][getml.engine].</span>

<span class=sd>            The following DataFrames are returned:</span>

<span class=sd>            * `population_train`</span>
<span class=sd>            * `population_test`</span>
<span class=sd>            * `population_validation`</span>

<span class=sd>    ??? example</span>
<span class=sd>        ```python</span>
<span class=sd>        population_train, population_test, _ = getml.datasets.load_occupancy()</span>
<span class=sd>        type(occupancy_train)</span>
<span class=sd>        getml.data.data_frame.DataFrame</span>
<span class=sd>        ```</span>
<span class=sd>        For a full analysis of the occupancy dataset including all necessary</span>
<span class=sd>        preprocessing steps please refer to [getml-examples</span>
<span class=sd>        ](https://github.com/getml/getml-demo/blob/master/occupancy.ipynb).</span>


<span class=sd>    Note:</span>
<span class=sd>        Roles can be set ad-hoc by supplying the respective flag. If</span>
<span class=sd>        `roles` is `False`, all columns in the returned</span>
<span class=sd>        [`DataFrame`][getml.data.DataFrame] have roles</span>
<span class=sd>        [`unused_string`][getml.data.roles.unused_string] or</span>
<span class=sd>        [`unused_float`][getml.data.roles.unused_float]. This dataset contains no units.</span>
<span class=sd>        Before using them in an analysis, a data model needs to be constructed</span>
<span class=sd>        using [`Placeholder`][getml.data.Placeholder].</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>ds_name</span> <span class=o>=</span> <span class=s2>&quot;occupancy&quot;</span>

    <span class=k>return</span> <span class=n>_load_dataset</span><span class=p>(</span>
        <span class=n>ds_name</span><span class=o>=</span><span class=n>ds_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=n>roles</span><span class=p>,</span>
        <span class=n>as_pandas</span><span class=o>=</span><span class=n>as_pandas</span><span class=p>,</span>
        <span class=n>as_dict</span><span class=o>=</span><span class=n>as_dict</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.make_categorical class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">make_categorical</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>make_categorical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a random dataset with categorical variables</p> <p>The dataset consists of a population table and one peripheral table.</p> <p>The peripheral table has 3 columns:</p> <ul> <li><code>column_01</code>: random categorical variable between '0' and '9'</li> <li><code>join_key</code>: random integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The population table has 4 columns:</p> <ul> <li><code>column_01</code>: random categorical variable between '0' and '9'</li> <li><code>join_key</code>: unique integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> <li><code>targets</code>: target variable. Defined as the number of matching entries in the peripheral table for which <code>time_stamp_peripheral &lt; time_stamp_population</code> and the category in the peripheral table is not 1, 2 or 9. The SQL definition of the target variable read like this</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation</span><span class=p>(</span><span class=w> </span><span class=n>column_01</span><span class=w> </span><span class=p>)</span>
<span class=k>FROM</span><span class=w> </span><span class=n>POPULATION_TABLE</span><span class=w> </span><span class=n>t1</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>PERIPHERAL_TABLE</span><span class=w> </span><span class=n>t2</span>
<span class=k>ON</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>join_key</span>
<span class=k>WHERE</span><span class=w> </span><span class=p>(</span>
<span class=w>   </span><span class=p>(</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;1&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;2&#39;</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s1>&#39;9&#39;</span><span class=w> </span><span class=p>)</span>
<span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamps</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamps</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>     </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>n_rows_population</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the population table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>500</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>125000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>random_state</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Seed to initialize the random number generator used for the dataset creation. If set to None, the seed will be the 'microsecond' component of <code>datetime.datetime.now()</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>population_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the population table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>categorical_population_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>categorical_peripheral_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations><code>aggregations</code></a> used to generate the 'target' column.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The dataframes are:</p> <ul> <li>population (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Population table</li> <li>peripheral (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> </ul> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>getml/datasets/samples_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>make_categorical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>COUNT</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Generate a random dataset with categorical variables</span>

<span class=sd>    The dataset consists of a population table and one peripheral table.</span>

<span class=sd>    The peripheral table has 3 columns:</span>

<span class=sd>    * `column_01`: random categorical variable between &#39;0&#39; and &#39;9&#39;</span>
<span class=sd>    * `join_key`: random integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The population table has 4 columns:</span>

<span class=sd>    * `column_01`: random categorical variable between &#39;0&#39; and &#39;9&#39;</span>
<span class=sd>    * `join_key`: unique integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>
<span class=sd>    * `targets`: target variable. Defined as the number of matching entries in</span>
<span class=sd>      the peripheral table for which ``time_stamp_peripheral &lt;</span>
<span class=sd>      time_stamp_population`` and the category in the peripheral table is not</span>
<span class=sd>      1, 2 or 9. The SQL definition of the target variable read like this</span>

<span class=sd>    ```sql</span>
<span class=sd>    SELECT aggregation( column_01 )</span>
<span class=sd>    FROM POPULATION_TABLE t1</span>
<span class=sd>    LEFT JOIN PERIPHERAL_TABLE t2</span>
<span class=sd>    ON t1.join_key = t2.join_key</span>
<span class=sd>    WHERE (</span>
<span class=sd>       ( t2.column_01 != &#39;1&#39; AND t2.column_01 != &#39;2&#39; AND t2.column_01 != &#39;9&#39; )</span>
<span class=sd>    ) AND t2.time_stamps &lt;= t1.time_stamps</span>
<span class=sd>    GROUP BY t1.join_key,</span>
<span class=sd>         t1.time_stamp;</span>
<span class=sd>    ```</span>

<span class=sd>    Args:</span>
<span class=sd>        n_rows_population:</span>
<span class=sd>            Number of rows in the population table.</span>

<span class=sd>        n_rows_peripheral:</span>
<span class=sd>            Number of rows in the peripheral table.</span>

<span class=sd>        random_state:</span>
<span class=sd>            Seed to initialize the random number generator used for</span>
<span class=sd>            the dataset creation. If set to None, the seed will be the</span>
<span class=sd>            &#39;microsecond&#39; component of</span>
<span class=sd>            `datetime.datetime.now()`.</span>

<span class=sd>        population_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the population</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `categorical_population_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        peripheral_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the peripheral</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `categorical_peripheral_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        aggregation:</span>
<span class=sd>            [`aggregations`][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The dataframes are:</span>

<span class=sd>            * population ([`DataFrame`][getml.DataFrame]): Population table</span>
<span class=sd>            * peripheral ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>random_state</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>random_state</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>microsecond</span>

    <span class=n>random</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>RandomState</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>  <span class=c1># pylint: disable=E1101</span>
    <span class=n>population_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>n_rows_population</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>n_rows_peripheral</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span>
        <span class=mi>0</span><span class=p>,</span> <span class=n>n_rows_population</span><span class=p>,</span> <span class=n>n_rows_peripheral</span>
    <span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>

    <span class=c1># Compute targets</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>population_table</span><span class=p>[[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span>
        <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>])</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;1&quot;</span><span class=p>)</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;2&quot;</span><span class=p>)</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;9&quot;</span><span class=p>)</span>
    <span class=p>]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>_aggregate</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>aggregation</span><span class=p>,</span> <span class=s2>&quot;column_01&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01&quot;</span><span class=p>:</span> <span class=s2>&quot;targets&quot;</span><span class=p>})</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=k>del</span> <span class=n>temp</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=c1># Replace NaN targets with 0.0 - target values may never be NaN!.</span>
    <span class=n>population_table</span><span class=o>.</span><span class=n>targets</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span>
        <span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]),</span> <span class=mi>0</span><span class=p>,</span> <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span>
    <span class=p>)</span>

    <span class=c1># Set default names if none where provided.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>population_name</span><span class=p>:</span>
        <span class=n>population_name</span> <span class=o>=</span> <span class=s2>&quot;categorical_population_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>peripheral_name</span><span class=p>:</span>
        <span class=n>peripheral_name</span> <span class=o>=</span> <span class=s2>&quot;categorical_peripheral_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>

    <span class=c1># Create the data.DataFrame counterpart.</span>
    <span class=n>population_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>population_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;categorical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
            <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>population_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;categorical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>population_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.make_discrete class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">make_discrete</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>make_discrete</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a random dataset with categorical variables</p> <p>The dataset consists of a population table and one peripheral table.</p> <p>The peripheral table has 3 columns:</p> <ul> <li><code>column_01</code>: random integer between -10 and 10</li> <li><code>join_key</code>: random integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The population table has 4 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: unique integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> <li><code>targets</code>: target variable. Defined as the minimum value greater than 0 in the peripheral table for which <code>time_stamp_peripheral &lt; time_stamp_population</code> and the join key matches <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation</span><span class=p>(</span><span class=w> </span><span class=n>column_01</span><span class=w> </span><span class=p>)</span>
<span class=k>FROM</span><span class=w> </span><span class=n>POPULATION</span><span class=w> </span><span class=n>t1</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>PERIPHERAL</span><span class=w> </span><span class=n>t2</span>
<span class=k>ON</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>join_key</span>
<span class=k>WHERE</span><span class=w> </span><span class=p>(</span>
<span class=w>   </span><span class=p>(</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>)</span>
<span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>         </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=p>;</span>
</code></pre></div></li> </ul> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>n_rows_population</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the population table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>500</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>125000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>random_state</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Seed to initialize the random number generator used for the dataset creation. If set to None, the seed will be the 'microsecond' component of <code>datetime.datetime.now()</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>population_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the population table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>discrete_population_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>discrete_peripheral_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations>aggregations</a> used to generate the 'target' column.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The dataframes are:</p> <ul> <li>population (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Population table</li> <li>peripheral (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> </ul> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>getml/datasets/samples_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>make_discrete</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>COUNT</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Generate a random dataset with categorical variables</span>

<span class=sd>    The dataset consists of a population table and one peripheral table.</span>

<span class=sd>    The peripheral table has 3 columns:</span>

<span class=sd>    * `column_01`: random integer between -10 and 10</span>
<span class=sd>    * `join_key`: random integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The population table has 4 columns:</span>

<span class=sd>    * `column_01`: random number between -1 and 1</span>
<span class=sd>    * `join_key`: unique integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>
<span class=sd>    * `targets`: target variable. Defined as the minimum value greater than 0</span>
<span class=sd>      in the peripheral table for which</span>
<span class=sd>      ``time_stamp_peripheral &lt; time_stamp_population``</span>
<span class=sd>      and the join key matches</span>
<span class=sd>    ```sql</span>
<span class=sd>    SELECT aggregation( column_01 )</span>
<span class=sd>    FROM POPULATION t1</span>
<span class=sd>    LEFT JOIN PERIPHERAL t2</span>
<span class=sd>    ON t1.join_key = t2.join_key</span>
<span class=sd>    WHERE (</span>
<span class=sd>       ( t2.column_01 &gt; 0 )</span>
<span class=sd>    ) AND t2.time_stamp &lt;= t1.time_stamp</span>
<span class=sd>    GROUP BY t1.join_key,</span>
<span class=sd>             t1.time_stamp;</span>
<span class=sd>    ```</span>

<span class=sd>    Args:</span>
<span class=sd>        n_rows_population:</span>
<span class=sd>            Number of rows in the population table.</span>

<span class=sd>        n_rows_peripheral:</span>
<span class=sd>            Number of rows in the peripheral table.</span>

<span class=sd>        random_state:</span>
<span class=sd>            Seed to initialize the random number generator used for</span>
<span class=sd>            the dataset creation. If set to None, the seed will be the</span>
<span class=sd>            &#39;microsecond&#39; component of</span>
<span class=sd>            `datetime.datetime.now()`.</span>

<span class=sd>        population_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the population</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `discrete_population_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        peripheral_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the peripheral</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `discrete_peripheral_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        aggregation:</span>
<span class=sd>            [aggregations][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The dataframes are:</span>

<span class=sd>            * population ([`DataFrame`][getml.DataFrame]): Population table</span>
<span class=sd>            * peripheral ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>random_state</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>random_state</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>microsecond</span>

    <span class=n>random</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>RandomState</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>  <span class=c1># pylint: disable=E1101</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=n>n_rows_population</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span><span class=o>-</span><span class=mi>11</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=n>n_rows_peripheral</span><span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span>
        <span class=mi>0</span><span class=p>,</span> <span class=n>n_rows_population</span><span class=p>,</span> <span class=n>n_rows_peripheral</span>
    <span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>

    <span class=c1># Compute targets</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>population_table</span><span class=p>[[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span>
        <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>])</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mf>0.0</span><span class=p>)</span>
    <span class=p>]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>_aggregate</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>aggregation</span><span class=p>,</span> <span class=s2>&quot;column_01&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01&quot;</span><span class=p>:</span> <span class=s2>&quot;targets&quot;</span><span class=p>})</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=k>del</span> <span class=n>temp</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=c1># Replace NaN targets with 0.0 - target values may never be NaN!.</span>
    <span class=n>population_table</span><span class=o>.</span><span class=n>targets</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span>
        <span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]),</span> <span class=mi>0</span><span class=p>,</span> <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span>
    <span class=p>)</span>

    <span class=c1># Set default names if none where provided.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>population_name</span><span class=p>:</span>
        <span class=n>population_name</span> <span class=o>=</span> <span class=s2>&quot;discrete_population_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>peripheral_name</span><span class=p>:</span>
        <span class=n>peripheral_name</span> <span class=o>=</span> <span class=s2>&quot;discrete_peripheral_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>

    <span class=c1># Create the data.DataFrame counterpart.</span>
    <span class=n>population_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>population_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
            <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>population_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>population_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.make_numerical class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">make_numerical</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>make_numerical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a random dataset with continuous numerical variables</p> <p>The dataset consists of a population table and one peripheral table.</p> <p>The peripheral table has 3 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: random integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The population table has 4 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: unique integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> <li><code>targets</code>: target variable. Defined as the number of matching entries in the peripheral table for which <code>time_stamp_peripheral &lt; time_stamp_population &lt; time_stamp_peripheral + 0.5</code></li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation</span><span class=p>(</span><span class=w> </span><span class=n>column_01</span><span class=w> </span><span class=p>)</span>
<span class=k>FROM</span><span class=w> </span><span class=n>POPULATION</span><span class=w> </span><span class=n>t1</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>PERIPHERAL</span><span class=w> </span><span class=n>t2</span>
<span class=k>ON</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>join_key</span>
<span class=k>WHERE</span><span class=w> </span><span class=p>(</span>
<span class=w>   </span><span class=p>(</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>0</span><span class=p>.</span><span class=mi>5</span><span class=w> </span><span class=p>)</span>
<span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>     </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>n_rows_population</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the population table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>500</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>125000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>random_state</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Seed to initialize the random number generator used for the dataset creation. If set to None, the seed will be the 'microsecond' component of <code>datetime.datetime.now()</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>population_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the population table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>numerical_population_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>numerical_peripheral_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations>aggregations</a> used to generate the 'target' column.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The dataframes are:</p> <ul> <li>population (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Population table</li> <li>peripheral (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> </ul> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>getml/datasets/samples_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>make_numerical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>COUNT</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Generate a random dataset with continuous numerical variables</span>

<span class=sd>    The dataset consists of a population table and one peripheral table.</span>

<span class=sd>    The peripheral table has 3 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key`: random integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The population table has 4 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key`: unique integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>
<span class=sd>    * `targets`: target variable. Defined as the number of matching entries in</span>
<span class=sd>      the peripheral table for which ``time_stamp_peripheral &lt;</span>
<span class=sd>      time_stamp_population &lt; time_stamp_peripheral + 0.5``</span>

<span class=sd>    ```sql</span>
<span class=sd>    SELECT aggregation( column_01 )</span>
<span class=sd>    FROM POPULATION t1</span>
<span class=sd>    LEFT JOIN PERIPHERAL t2</span>
<span class=sd>    ON t1.join_key = t2.join_key</span>
<span class=sd>    WHERE (</span>
<span class=sd>       ( t1.time_stamp - t2.time_stamp &lt;= 0.5 )</span>
<span class=sd>    ) AND t2.time_stamp &lt;= t1.time_stamp</span>
<span class=sd>    GROUP BY t1.join_key,</span>
<span class=sd>         t1.time_stamp;</span>
<span class=sd>    ```</span>

<span class=sd>    Args:</span>
<span class=sd>        n_rows_population:</span>
<span class=sd>            Number of rows in the population table.</span>

<span class=sd>        n_rows_peripheral:</span>
<span class=sd>            Number of rows in the peripheral table.</span>

<span class=sd>        random_state:</span>
<span class=sd>            Seed to initialize the random number generator used for</span>
<span class=sd>            the dataset creation. If set to None, the seed will be the</span>
<span class=sd>            &#39;microsecond&#39; component of</span>
<span class=sd>            `datetime.datetime.now()`.</span>

<span class=sd>        population_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the population</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `numerical_population_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        peripheral_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the peripheral</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `numerical_peripheral_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        aggregation:</span>
<span class=sd>            [aggregations][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The dataframes are:</span>

<span class=sd>            * population ([`DataFrame`][getml.DataFrame]): Population table</span>
<span class=sd>            * peripheral ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>random_state</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>random_state</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>microsecond</span>

    <span class=n>random</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>RandomState</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>  <span class=c1># pylint: disable=E1101</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>randint</span><span class=p>(</span>
        <span class=mi>0</span><span class=p>,</span> <span class=n>n_rows_population</span><span class=p>,</span> <span class=n>n_rows_peripheral</span>
    <span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>

    <span class=c1># Compute targets</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>population_table</span><span class=p>[[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span>
        <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>])</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>-</span> <span class=mf>0.5</span><span class=p>)</span>
    <span class=p>]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>_aggregate</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>aggregation</span><span class=p>,</span> <span class=s2>&quot;column_01&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01&quot;</span><span class=p>:</span> <span class=s2>&quot;targets&quot;</span><span class=p>})</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=k>del</span> <span class=n>temp</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=c1># Replace NaN targets with 0.0 - target values may never be NaN!.</span>
    <span class=n>population_table</span><span class=o>.</span><span class=n>targets</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>where</span><span class=p>(</span>
        <span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]),</span> <span class=mi>0</span><span class=p>,</span> <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span>
    <span class=p>)</span>

    <span class=c1># Set default names if none where provided.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>population_name</span><span class=p>:</span>
        <span class=n>population_name</span> <span class=o>=</span> <span class=s2>&quot;numerical_population_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>peripheral_name</span><span class=p>:</span>
        <span class=n>peripheral_name</span> <span class=o>=</span> <span class=s2>&quot;numerical_peripheral_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>

    <span class=c1># Create the data.DataFrame counterpart.</span>
    <span class=n>population_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>population_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
            <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>population_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>population_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.make_same_units_categorical class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">make_same_units_categorical</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>make_same_units_categorical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a random dataset with categorical variables</p> <p>The dataset consists of a population table and one peripheral table.</p> <p>The peripheral table has 3 columns:</p> <ul> <li><code>column_01</code>: random categorical variable between '0' and '9'</li> <li><code>join_key</code>: random integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The population table has 4 columns:</p> <ul> <li><code>column_01</code>: random categorical variable between '0' and '9'</li> <li><code>join_key</code>: unique integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> <li><code>targets</code>: target variable. Defined as the number of matching entries in the peripheral table for which <code>time_stamp_peripheral &lt; time_stamp_population</code> and the category in the peripheral table is not 1, 2 or 9</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation</span><span class=p>(</span><span class=w> </span><span class=n>column_02</span><span class=w> </span><span class=p>)</span>
<span class=k>FROM</span><span class=w> </span><span class=n>POPULATION_TABLE</span><span class=w> </span><span class=n>t1</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>PERIPHERAL_TABLE</span><span class=w> </span><span class=n>t2</span>
<span class=k>ON</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>join_key</span>
<span class=k>WHERE</span><span class=w> </span><span class=p>(</span>
<span class=w>   </span><span class=p>(</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=p>)</span>
<span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamps</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamps</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>     </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>n_rows_population</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the population table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>500</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>125000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>random_state</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Seed to initialize the random number generator used for the dataset creation. If set to None, the seed will be the 'microsecond' component of <code>datetime.datetime.now()</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>population_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the population table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>make_same_units_categorical_population_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>make_same_units_categorical_peripheral_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations>aggregations</a> used to generate the 'target' column.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The dataframes are:</p> <ul> <li>population (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Population table</li> <li>peripheral (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> </ul> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>getml/datasets/samples_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span>
<span class=normal>654</span>
<span class=normal>655</span>
<span class=normal>656</span>
<span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span>
<span class=normal>663</span>
<span class=normal>664</span>
<span class=normal>665</span>
<span class=normal>666</span>
<span class=normal>667</span>
<span class=normal>668</span>
<span class=normal>669</span>
<span class=normal>670</span>
<span class=normal>671</span>
<span class=normal>672</span>
<span class=normal>673</span>
<span class=normal>674</span>
<span class=normal>675</span>
<span class=normal>676</span>
<span class=normal>677</span>
<span class=normal>678</span>
<span class=normal>679</span>
<span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span>
<span class=normal>688</span>
<span class=normal>689</span>
<span class=normal>690</span>
<span class=normal>691</span>
<span class=normal>692</span>
<span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span>
<span class=normal>700</span>
<span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span>
<span class=normal>707</span>
<span class=normal>708</span>
<span class=normal>709</span>
<span class=normal>710</span>
<span class=normal>711</span>
<span class=normal>712</span>
<span class=normal>713</span>
<span class=normal>714</span>
<span class=normal>715</span>
<span class=normal>716</span>
<span class=normal>717</span>
<span class=normal>718</span>
<span class=normal>719</span>
<span class=normal>720</span>
<span class=normal>721</span>
<span class=normal>722</span>
<span class=normal>723</span>
<span class=normal>724</span>
<span class=normal>725</span>
<span class=normal>726</span>
<span class=normal>727</span>
<span class=normal>728</span>
<span class=normal>729</span>
<span class=normal>730</span>
<span class=normal>731</span>
<span class=normal>732</span>
<span class=normal>733</span>
<span class=normal>734</span>
<span class=normal>735</span>
<span class=normal>736</span>
<span class=normal>737</span>
<span class=normal>738</span>
<span class=normal>739</span>
<span class=normal>740</span>
<span class=normal>741</span>
<span class=normal>742</span>
<span class=normal>743</span>
<span class=normal>744</span>
<span class=normal>745</span>
<span class=normal>746</span>
<span class=normal>747</span>
<span class=normal>748</span>
<span class=normal>749</span>
<span class=normal>750</span>
<span class=normal>751</span>
<span class=normal>752</span>
<span class=normal>753</span>
<span class=normal>754</span>
<span class=normal>755</span>
<span class=normal>756</span>
<span class=normal>757</span>
<span class=normal>758</span>
<span class=normal>759</span>
<span class=normal>760</span>
<span class=normal>761</span>
<span class=normal>762</span>
<span class=normal>763</span>
<span class=normal>764</span>
<span class=normal>765</span>
<span class=normal>766</span>
<span class=normal>767</span>
<span class=normal>768</span>
<span class=normal>769</span>
<span class=normal>770</span>
<span class=normal>771</span>
<span class=normal>772</span>
<span class=normal>773</span>
<span class=normal>774</span>
<span class=normal>775</span>
<span class=normal>776</span>
<span class=normal>777</span>
<span class=normal>778</span>
<span class=normal>779</span>
<span class=normal>780</span>
<span class=normal>781</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>make_same_units_categorical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>COUNT</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Generate a random dataset with categorical variables</span>

<span class=sd>    The dataset consists of a population table and one peripheral table.</span>

<span class=sd>    The peripheral table has 3 columns:</span>

<span class=sd>    * `column_01`: random categorical variable between &#39;0&#39; and &#39;9&#39;</span>
<span class=sd>    * `join_key`: random integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The population table has 4 columns:</span>

<span class=sd>    * `column_01`: random categorical variable between &#39;0&#39; and &#39;9&#39;</span>
<span class=sd>    * `join_key`: unique integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>
<span class=sd>    * `targets`: target variable. Defined as the number of matching entries in</span>
<span class=sd>      the peripheral table for which ``time_stamp_peripheral &lt;</span>
<span class=sd>      time_stamp_population`` and the category in the peripheral table is not</span>
<span class=sd>      1, 2 or 9</span>

<span class=sd>    ```sql</span>
<span class=sd>    SELECT aggregation( column_02 )</span>
<span class=sd>    FROM POPULATION_TABLE t1</span>
<span class=sd>    LEFT JOIN PERIPHERAL_TABLE t2</span>
<span class=sd>    ON t1.join_key = t2.join_key</span>
<span class=sd>    WHERE (</span>
<span class=sd>       ( t1.column_01 == t2.column_01 )</span>
<span class=sd>    ) AND t2.time_stamps &lt;= t1.time_stamps</span>
<span class=sd>    GROUP BY t1.join_key,</span>
<span class=sd>         t1.time_stamp;</span>
<span class=sd>    ```</span>

<span class=sd>    Args:</span>
<span class=sd>        n_rows_population:</span>
<span class=sd>            Number of rows in the population table.</span>

<span class=sd>        n_rows_peripheral:</span>
<span class=sd>            Number of rows in the peripheral table.</span>

<span class=sd>        random_state:</span>
<span class=sd>            Seed to initialize the random number generator used for</span>
<span class=sd>            the dataset creation. If set to None, the seed will be the</span>
<span class=sd>            &#39;microsecond&#39; component of</span>
<span class=sd>            `datetime.datetime.now()`.</span>

<span class=sd>        population_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the population</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `make_same_units_categorical_population_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        peripheral_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the peripheral</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `make_same_units_categorical_peripheral_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        aggregation:</span>
<span class=sd>            [aggregations][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The dataframes are:</span>

<span class=sd>            * population ([`DataFrame`][getml.DataFrame]): Population table</span>
<span class=sd>            * peripheral ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>random_state</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>random_state</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>microsecond</span>

    <span class=n>random</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>RandomState</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>  <span class=c1># pylint: disable=E1101</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;column_01_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
        <span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=mf>10.0</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
        <span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span> <span class=o>*</span> <span class=mf>10.0</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>int32</span><span class=p>)</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
    <span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_02&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=nb>int</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>
    <span class=p>]</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>population_table</span><span class=p>[[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_population&quot;</span><span class=p>,</span> <span class=s2>&quot;column_01_population&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span>
        <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>])</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01_population&quot;</span><span class=p>])</span>
    <span class=p>]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>_aggregate</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>aggregation</span><span class=p>,</span> <span class=s2>&quot;column_02&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_02&quot;</span><span class=p>:</span> <span class=s2>&quot;targets&quot;</span><span class=p>})</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01_population&quot;</span><span class=p>:</span> <span class=s2>&quot;column_01&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;column_01&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=k>del</span> <span class=n>temp</span>

    <span class=c1># ----------------</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=c1># Replace NaN targets with 0.0 - target values may never be NaN!.</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=mf>0.0</span> <span class=k>if</span> <span class=n>val</span> <span class=o>!=</span> <span class=n>val</span> <span class=k>else</span> <span class=n>val</span> <span class=k>for</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span>
    <span class=p>]</span>

    <span class=c1># ----------------</span>

    <span class=c1># Set default names if none where provided.</span>
    <span class=n>population_name</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>population_name</span>
        <span class=ow>or</span> <span class=s2>&quot;make_same_units_categorical_population__&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=p>)</span>

    <span class=n>peripheral_name</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>peripheral_name</span>
        <span class=ow>or</span> <span class=s2>&quot;make_same_units_categorical_peripheral__&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=p>)</span>

    <span class=c1># Create the data.DataFrame counterpart.</span>
    <span class=n>population_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>population_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;categorical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
            <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>population_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;categorical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_02&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table</span><span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=k>return</span> <span class=n>population_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.make_same_units_numerical class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">make_same_units_numerical</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>make_same_units_numerical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a random dataset with continuous numerical variables</p> <p>The dataset consists of a population table and one peripheral table.</p> <p>The peripheral table has 3 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: random integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The population table has 4 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: unique integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> <li><code>targets</code>: target variable. Defined as the number of matching entries in the peripheral table for which <code>time_stamp_peripheral &lt; time_stamp_population &lt; time_stamp_peripheral + 0.5</code></li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation</span><span class=p>(</span><span class=w> </span><span class=n>column_01</span><span class=w> </span><span class=p>)</span>
<span class=k>FROM</span><span class=w> </span><span class=n>POPULATION</span><span class=w> </span><span class=n>t1</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>PERIPHERAL</span><span class=w> </span><span class=n>t2</span>
<span class=k>ON</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>join_key</span>
<span class=k>WHERE</span><span class=w> </span><span class=p>(</span>
<span class=w>   </span><span class=p>(</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>0</span><span class=p>.</span><span class=mi>5</span><span class=w> </span><span class=p>)</span>
<span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>     </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>n_rows_population</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the population table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>500</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>125000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>random_state</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Seed to initialize the random number generator used for the dataset creation. If set to None, the seed will be the 'microsecond' component of <code>datetime.datetime.now()</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>population_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the population table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>make_same_units_numerical_population_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>make_same_units_numerical_peripheral_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations>aggregations</a> used to generate the 'target' column.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The dataframes are:</p> <ul> <li>population (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Population table</li> <li>peripheral (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> </ul> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>getml/datasets/samples_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>787</span>
<span class=normal>788</span>
<span class=normal>789</span>
<span class=normal>790</span>
<span class=normal>791</span>
<span class=normal>792</span>
<span class=normal>793</span>
<span class=normal>794</span>
<span class=normal>795</span>
<span class=normal>796</span>
<span class=normal>797</span>
<span class=normal>798</span>
<span class=normal>799</span>
<span class=normal>800</span>
<span class=normal>801</span>
<span class=normal>802</span>
<span class=normal>803</span>
<span class=normal>804</span>
<span class=normal>805</span>
<span class=normal>806</span>
<span class=normal>807</span>
<span class=normal>808</span>
<span class=normal>809</span>
<span class=normal>810</span>
<span class=normal>811</span>
<span class=normal>812</span>
<span class=normal>813</span>
<span class=normal>814</span>
<span class=normal>815</span>
<span class=normal>816</span>
<span class=normal>817</span>
<span class=normal>818</span>
<span class=normal>819</span>
<span class=normal>820</span>
<span class=normal>821</span>
<span class=normal>822</span>
<span class=normal>823</span>
<span class=normal>824</span>
<span class=normal>825</span>
<span class=normal>826</span>
<span class=normal>827</span>
<span class=normal>828</span>
<span class=normal>829</span>
<span class=normal>830</span>
<span class=normal>831</span>
<span class=normal>832</span>
<span class=normal>833</span>
<span class=normal>834</span>
<span class=normal>835</span>
<span class=normal>836</span>
<span class=normal>837</span>
<span class=normal>838</span>
<span class=normal>839</span>
<span class=normal>840</span>
<span class=normal>841</span>
<span class=normal>842</span>
<span class=normal>843</span>
<span class=normal>844</span>
<span class=normal>845</span>
<span class=normal>846</span>
<span class=normal>847</span>
<span class=normal>848</span>
<span class=normal>849</span>
<span class=normal>850</span>
<span class=normal>851</span>
<span class=normal>852</span>
<span class=normal>853</span>
<span class=normal>854</span>
<span class=normal>855</span>
<span class=normal>856</span>
<span class=normal>857</span>
<span class=normal>858</span>
<span class=normal>859</span>
<span class=normal>860</span>
<span class=normal>861</span>
<span class=normal>862</span>
<span class=normal>863</span>
<span class=normal>864</span>
<span class=normal>865</span>
<span class=normal>866</span>
<span class=normal>867</span>
<span class=normal>868</span>
<span class=normal>869</span>
<span class=normal>870</span>
<span class=normal>871</span>
<span class=normal>872</span>
<span class=normal>873</span>
<span class=normal>874</span>
<span class=normal>875</span>
<span class=normal>876</span>
<span class=normal>877</span>
<span class=normal>878</span>
<span class=normal>879</span>
<span class=normal>880</span>
<span class=normal>881</span>
<span class=normal>882</span>
<span class=normal>883</span>
<span class=normal>884</span>
<span class=normal>885</span>
<span class=normal>886</span>
<span class=normal>887</span>
<span class=normal>888</span>
<span class=normal>889</span>
<span class=normal>890</span>
<span class=normal>891</span>
<span class=normal>892</span>
<span class=normal>893</span>
<span class=normal>894</span>
<span class=normal>895</span>
<span class=normal>896</span>
<span class=normal>897</span>
<span class=normal>898</span>
<span class=normal>899</span>
<span class=normal>900</span>
<span class=normal>901</span>
<span class=normal>902</span>
<span class=normal>903</span>
<span class=normal>904</span>
<span class=normal>905</span>
<span class=normal>906</span>
<span class=normal>907</span>
<span class=normal>908</span>
<span class=normal>909</span>
<span class=normal>910</span>
<span class=normal>911</span>
<span class=normal>912</span>
<span class=normal>913</span>
<span class=normal>914</span>
<span class=normal>915</span>
<span class=normal>916</span>
<span class=normal>917</span>
<span class=normal>918</span>
<span class=normal>919</span>
<span class=normal>920</span>
<span class=normal>921</span>
<span class=normal>922</span>
<span class=normal>923</span>
<span class=normal>924</span>
<span class=normal>925</span>
<span class=normal>926</span>
<span class=normal>927</span>
<span class=normal>928</span>
<span class=normal>929</span>
<span class=normal>930</span>
<span class=normal>931</span>
<span class=normal>932</span>
<span class=normal>933</span>
<span class=normal>934</span>
<span class=normal>935</span>
<span class=normal>936</span>
<span class=normal>937</span>
<span class=normal>938</span>
<span class=normal>939</span>
<span class=normal>940</span>
<span class=normal>941</span>
<span class=normal>942</span>
<span class=normal>943</span>
<span class=normal>944</span>
<span class=normal>945</span>
<span class=normal>946</span>
<span class=normal>947</span>
<span class=normal>948</span>
<span class=normal>949</span>
<span class=normal>950</span>
<span class=normal>951</span>
<span class=normal>952</span>
<span class=normal>953</span>
<span class=normal>954</span>
<span class=normal>955</span>
<span class=normal>956</span>
<span class=normal>957</span>
<span class=normal>958</span>
<span class=normal>959</span>
<span class=normal>960</span>
<span class=normal>961</span>
<span class=normal>962</span>
<span class=normal>963</span>
<span class=normal>964</span>
<span class=normal>965</span>
<span class=normal>966</span>
<span class=normal>967</span>
<span class=normal>968</span>
<span class=normal>969</span>
<span class=normal>970</span>
<span class=normal>971</span>
<span class=normal>972</span>
<span class=normal>973</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>make_same_units_numerical</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>COUNT</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Generate a random dataset with continuous numerical variables</span>

<span class=sd>    The dataset consists of a population table and one peripheral table.</span>

<span class=sd>    The peripheral table has 3 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key`: random integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The population table has 4 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key`: unique integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>
<span class=sd>    * `targets`: target variable. Defined as the number of matching entries in</span>
<span class=sd>      the peripheral table for which ``time_stamp_peripheral &lt;</span>
<span class=sd>      time_stamp_population &lt; time_stamp_peripheral + 0.5``</span>

<span class=sd>    ```sql</span>
<span class=sd>    SELECT aggregation( column_01 )</span>
<span class=sd>    FROM POPULATION t1</span>
<span class=sd>    LEFT JOIN PERIPHERAL t2</span>
<span class=sd>    ON t1.join_key = t2.join_key</span>
<span class=sd>    WHERE (</span>
<span class=sd>       ( t1.column_01 - t2.column_01 &lt;= 0.5 )</span>
<span class=sd>    ) AND t2.time_stamp &lt;= t1.time_stamp</span>
<span class=sd>    GROUP BY t1.join_key,</span>
<span class=sd>         t1.time_stamp;</span>
<span class=sd>    ```</span>

<span class=sd>    Args:</span>
<span class=sd>        n_rows_population:</span>
<span class=sd>            Number of rows in the population table.</span>

<span class=sd>        n_rows_peripheral:</span>
<span class=sd>            Number of rows in the peripheral table.</span>

<span class=sd>        random_state:</span>
<span class=sd>            Seed to initialize the random number generator used for</span>
<span class=sd>            the dataset creation. If set to None, the seed will be the</span>
<span class=sd>            &#39;microsecond&#39; component of</span>
<span class=sd>            `datetime.datetime.now()`.</span>

<span class=sd>        population_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the population</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `make_same_units_numerical_population_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        peripheral_name:</span>
<span class=sd>            Name assigned to</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the peripheral</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `make_same_units_numerical_peripheral_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        aggregation:</span>
<span class=sd>            [aggregations][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The dataframes are:</span>

<span class=sd>            * population ([`DataFrame`][getml.DataFrame]): Population table</span>
<span class=sd>            * peripheral ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>random_state</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>random_state</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>microsecond</span>

    <span class=n>random</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>RandomState</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>  <span class=c1># pylint: disable=E1101</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;column_01_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=nb>int</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>
    <span class=p>]</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral</span><span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>population_table</span><span class=p>[[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_population&quot;</span><span class=p>,</span> <span class=s2>&quot;column_01_population&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span>
        <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>])</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;column_01_population&quot;</span><span class=p>]</span> <span class=o>-</span> <span class=mf>0.5</span><span class=p>)</span>
    <span class=p>]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>temp</span><span class=p>[[</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key&quot;</span><span class=p>]]</span>
        <span class=o>.</span><span class=n>groupby</span><span class=p>([</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span> <span class=n>as_index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
        <span class=o>.</span><span class=n>count</span><span class=p>()</span>
    <span class=p>)</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;targets&quot;</span><span class=p>})</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01_population&quot;</span><span class=p>:</span> <span class=s2>&quot;column_01&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;column_01&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=k>del</span> <span class=n>temp</span>

    <span class=c1># ----------------</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=c1># Replace NaN targets with 0.0 - target values may never be NaN!.</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=mf>0.0</span> <span class=k>if</span> <span class=n>val</span> <span class=o>!=</span> <span class=n>val</span> <span class=k>else</span> <span class=n>val</span> <span class=k>for</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span>
    <span class=p>]</span>

    <span class=c1># ----------------</span>

    <span class=c1># Set default names if none where provided.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>population_name</span><span class=p>:</span>
        <span class=n>population_name</span> <span class=o>=</span> <span class=s2>&quot;same_unit_numerical_population_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>peripheral_name</span><span class=p>:</span>
        <span class=n>peripheral_name</span> <span class=o>=</span> <span class=s2>&quot;same_unit_numerical_peripheral_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>

    <span class=c1># Create the data.DataFrame counterpart.</span>
    <span class=n>population_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>population_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
            <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>population_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>population_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=getml.datasets.make_snowflake class="doc doc-heading"> <span class="doc doc-object-name doc-function-name">make_snowflake</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>make_snowflake</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral1</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>5000</span><span class=p>,</span>
    <span class=n>n_rows_peripheral2</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name1</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name2</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation1</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.SUM href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.SUM>SUM</a></span><span class=p>,</span>
    <span class=n>aggregation2</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Generate a random dataset with continuous numerical variables</p> <p>The dataset consists of a population table and two peripheral tables.</p> <p>The first peripheral table has 4 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: random integer in the range from 0 to <code>n_rows_population</code></li> <li><code>join_key2</code>: unique integer in the range from 0 to <code>n_rows_peripheral1</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The second peripheral table has 3 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key2</code>: random integer in the range from 0 to <code>n_rows_peripheral1</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> </ul> <p>The population table has 4 columns:</p> <ul> <li><code>column_01</code>: random number between -1 and 1</li> <li><code>join_key</code>: unique integer in the range from 0 to <code>n_rows_population</code></li> <li><code>time_stamp</code>: random number between 0 and 1</li> <li><code>targets</code>: target variable as defined by the SQL block below:</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation1</span><span class=p>(</span><span class=w> </span><span class=n>feature_1_1</span><span class=w> </span><span class=p>)</span>
<span class=k>FROM</span><span class=w> </span><span class=n>POPULATION</span><span class=w> </span><span class=n>t1</span>
<span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=k>SELECT</span><span class=w> </span><span class=n>aggregation2</span><span class=p>(</span><span class=w> </span><span class=n>t4</span><span class=p>.</span><span class=n>column_01</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>feature_1_1</span>
<span class=w>    </span><span class=k>FROM</span><span class=w> </span><span class=n>PERIPHERAL</span><span class=w> </span><span class=n>t3</span>
<span class=w>    </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>PERIPHERAL2</span><span class=w> </span><span class=n>t4</span>
<span class=w>    </span><span class=k>ON</span><span class=w> </span><span class=n>t3</span><span class=p>.</span><span class=n>join_key2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t4</span><span class=p>.</span><span class=n>join_key2</span>
<span class=w>    </span><span class=k>WHERE</span><span class=w> </span><span class=p>(</span>
<span class=w>       </span><span class=p>(</span><span class=w> </span><span class=n>t3</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>t4</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>0</span><span class=p>.</span><span class=mi>5</span><span class=w> </span><span class=p>)</span>
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>t4</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t3</span><span class=p>.</span><span class=n>time_stamp</span>
<span class=w>    </span><span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t3</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>         </span><span class=n>t3</span><span class=p>.</span><span class=n>time_stamp</span>
<span class=p>)</span><span class=w> </span><span class=n>t2</span>
<span class=k>ON</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>join_key</span>
<span class=k>WHERE</span><span class=w> </span><span class=n>t2</span><span class=p>.</span><span class=n>time_stamp</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span>
<span class=k>GROUP</span><span class=w> </span><span class=k>BY</span><span class=w> </span><span class=n>t1</span><span class=p>.</span><span class=n>join_key</span><span class=p>,</span>
<span class=w>     </span><span class=n>t1</span><span class=p>.</span><span class=n>time_stamp</span><span class=p>;</span>
</code></pre></div> <table> <thead> <tr> <th><span class=doc-section-title>PARAMETER</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>n_rows_population</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the population table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>500</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral1</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the first peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>5000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>n_rows_peripheral2</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Number of rows in the second peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>125000</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>random_state</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Seed to initialize the random number generator used for the dataset creation. If set to None, the seed will be the 'microsecond' component of <code>datetime.datetime.now()</code>.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank" rel="noopener">Optional</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int" target="_blank" rel="noopener">int</a>]</code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>population_name</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the population table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>snowflake_population_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name1</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the first peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>snowflake_peripheral_1_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>peripheral_name2</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p>Name assigned to the <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> holding the second peripheral table. If set to a name already existing on the getML Engine, the corresponding <a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a> will be overwritten. If set to an empty string, a unique name will be generated by concatenating <code>snowflake_peripheral_2_</code> and the seed of the random number generator.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code>&#39;&#39;</code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation1</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations>aggregations</a> used to generate the 'target' column in the first peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.SUM href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.SUM>SUM</a></code> </span> </p> </td> </tr> <tr class=doc-section-item> <td> <code>aggregation2</code> </td> <td class=doc-param-details> <div class=doc-md-description> <p><a class="autorefs autorefs-internal" href=../../feature_learning/aggregations/#getml.feature_learning.aggregations>aggregations</a> used to generate the 'target' column in the second peripheral table.</p> </div> <p> <span class=doc-param-annotation> <b>TYPE:</b> <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank" rel="noopener">str</a></code> </span> <span class=doc-param-default> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" title=getml.feature_learning.aggregations.COUNT href=../../feature_learning/aggregations/#getml.feature_learning.aggregations.COUNT>COUNT</a></code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><span class=doc-section-title>RETURNS</span></th> <th><span>DESCRIPTION</span></th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <span class=doc-returns-annotation> <code><a class="autorefs autorefs-external" title="typing.Tuple" href="https://docs.python.org/3/library/typing.html#typing.Tuple" target="_blank" rel="noopener">Tuple</a>[<a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>, <a class="autorefs autorefs-internal" title=getml.data.data_frame.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a>]</code> </span> </td> <td class=doc-returns-details> <div class=doc-md-description> <p>The dataframes are:</p> <ul> <li>population (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Population table</li> <li>peripheral (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> <li>peripheral_2 (<a class="autorefs autorefs-internal" href=../../data/data_frame/#getml.data.DataFrame><code>DataFrame</code></a>): Peripheral table</li> </ul> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>getml/datasets/samples_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 979</span>
<span class=normal> 980</span>
<span class=normal> 981</span>
<span class=normal> 982</span>
<span class=normal> 983</span>
<span class=normal> 984</span>
<span class=normal> 985</span>
<span class=normal> 986</span>
<span class=normal> 987</span>
<span class=normal> 988</span>
<span class=normal> 989</span>
<span class=normal> 990</span>
<span class=normal> 991</span>
<span class=normal> 992</span>
<span class=normal> 993</span>
<span class=normal> 994</span>
<span class=normal> 995</span>
<span class=normal> 996</span>
<span class=normal> 997</span>
<span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span>
<span class=normal>1056</span>
<span class=normal>1057</span>
<span class=normal>1058</span>
<span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span>
<span class=normal>1081</span>
<span class=normal>1082</span>
<span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span>
<span class=normal>1100</span>
<span class=normal>1101</span>
<span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span>
<span class=normal>1117</span>
<span class=normal>1118</span>
<span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span>
<span class=normal>1125</span>
<span class=normal>1126</span>
<span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span>
<span class=normal>1131</span>
<span class=normal>1132</span>
<span class=normal>1133</span>
<span class=normal>1134</span>
<span class=normal>1135</span>
<span class=normal>1136</span>
<span class=normal>1137</span>
<span class=normal>1138</span>
<span class=normal>1139</span>
<span class=normal>1140</span>
<span class=normal>1141</span>
<span class=normal>1142</span>
<span class=normal>1143</span>
<span class=normal>1144</span>
<span class=normal>1145</span>
<span class=normal>1146</span>
<span class=normal>1147</span>
<span class=normal>1148</span>
<span class=normal>1149</span>
<span class=normal>1150</span>
<span class=normal>1151</span>
<span class=normal>1152</span>
<span class=normal>1153</span>
<span class=normal>1154</span>
<span class=normal>1155</span>
<span class=normal>1156</span>
<span class=normal>1157</span>
<span class=normal>1158</span>
<span class=normal>1159</span>
<span class=normal>1160</span>
<span class=normal>1161</span>
<span class=normal>1162</span>
<span class=normal>1163</span>
<span class=normal>1164</span>
<span class=normal>1165</span>
<span class=normal>1166</span>
<span class=normal>1167</span>
<span class=normal>1168</span>
<span class=normal>1169</span>
<span class=normal>1170</span>
<span class=normal>1171</span>
<span class=normal>1172</span>
<span class=normal>1173</span>
<span class=normal>1174</span>
<span class=normal>1175</span>
<span class=normal>1176</span>
<span class=normal>1177</span>
<span class=normal>1178</span>
<span class=normal>1179</span>
<span class=normal>1180</span>
<span class=normal>1181</span>
<span class=normal>1182</span>
<span class=normal>1183</span>
<span class=normal>1184</span>
<span class=normal>1185</span>
<span class=normal>1186</span>
<span class=normal>1187</span>
<span class=normal>1188</span>
<span class=normal>1189</span>
<span class=normal>1190</span>
<span class=normal>1191</span>
<span class=normal>1192</span>
<span class=normal>1193</span>
<span class=normal>1194</span>
<span class=normal>1195</span>
<span class=normal>1196</span>
<span class=normal>1197</span>
<span class=normal>1198</span>
<span class=normal>1199</span>
<span class=normal>1200</span>
<span class=normal>1201</span>
<span class=normal>1202</span>
<span class=normal>1203</span>
<span class=normal>1204</span>
<span class=normal>1205</span>
<span class=normal>1206</span>
<span class=normal>1207</span>
<span class=normal>1208</span>
<span class=normal>1209</span>
<span class=normal>1210</span>
<span class=normal>1211</span>
<span class=normal>1212</span>
<span class=normal>1213</span>
<span class=normal>1214</span>
<span class=normal>1215</span>
<span class=normal>1216</span>
<span class=normal>1217</span>
<span class=normal>1218</span>
<span class=normal>1219</span>
<span class=normal>1220</span>
<span class=normal>1221</span>
<span class=normal>1222</span>
<span class=normal>1223</span>
<span class=normal>1224</span>
<span class=normal>1225</span>
<span class=normal>1226</span>
<span class=normal>1227</span>
<span class=normal>1228</span>
<span class=normal>1229</span>
<span class=normal>1230</span>
<span class=normal>1231</span>
<span class=normal>1232</span>
<span class=normal>1233</span>
<span class=normal>1234</span>
<span class=normal>1235</span>
<span class=normal>1236</span>
<span class=normal>1237</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span> <span class=nf>make_snowflake</span><span class=p>(</span>
    <span class=n>n_rows_population</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>500</span><span class=p>,</span>
    <span class=n>n_rows_peripheral1</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5000</span><span class=p>,</span>
    <span class=n>n_rows_peripheral2</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>125000</span><span class=p>,</span>
    <span class=n>random_state</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>population_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name1</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>peripheral_name2</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>,</span>
    <span class=n>aggregation1</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>SUM</span><span class=p>,</span>
    <span class=n>aggregation2</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>aggregations</span><span class=o>.</span><span class=n>COUNT</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Tuple</span><span class=p>[</span><span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>,</span> <span class=n>DataFrame</span><span class=p>]:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Generate a random dataset with continuous numerical variables</span>

<span class=sd>    The dataset consists of a population table and two peripheral tables.</span>

<span class=sd>    The first peripheral table has 4 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key`: random integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `join_key2`: unique integer in the range from 0 to ``n_rows_peripheral1``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The second peripheral table has 3 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key2`: random integer in the range from 0 to ``n_rows_peripheral1``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>

<span class=sd>    The population table has 4 columns:</span>

<span class=sd>    * `column_01`:  random number between -1 and 1</span>
<span class=sd>    * `join_key`: unique integer in the range from 0 to ``n_rows_population``</span>
<span class=sd>    * `time_stamp`: random number between 0 and 1</span>
<span class=sd>    * `targets`: target variable as defined by the SQL block below:</span>

<span class=sd>    ```sql</span>
<span class=sd>    SELECT aggregation1( feature_1_1 )</span>
<span class=sd>    FROM POPULATION t1</span>
<span class=sd>    LEFT JOIN (</span>
<span class=sd>        SELECT aggregation2( t4.column_01 ) AS feature_1_1</span>
<span class=sd>        FROM PERIPHERAL t3</span>
<span class=sd>        LEFT JOIN PERIPHERAL2 t4</span>
<span class=sd>        ON t3.join_key2 = t4.join_key2</span>
<span class=sd>        WHERE (</span>
<span class=sd>           ( t3.time_stamp - t4.time_stamp &lt;= 0.5 )</span>
<span class=sd>        ) AND t4.time_stamp &lt;= t3.time_stamp</span>
<span class=sd>        GROUP BY t3.join_key,</span>
<span class=sd>             t3.time_stamp</span>
<span class=sd>    ) t2</span>
<span class=sd>    ON t1.join_key = t2.join_key</span>
<span class=sd>    WHERE t2.time_stamp &lt;= t1.time_stamp</span>
<span class=sd>    GROUP BY t1.join_key,</span>
<span class=sd>         t1.time_stamp;</span>
<span class=sd>    ```</span>

<span class=sd>    Args:</span>
<span class=sd>        n_rows_population:</span>
<span class=sd>            Number of rows in the population table.</span>

<span class=sd>        n_rows_peripheral1:</span>
<span class=sd>            Number of rows in the first peripheral table.</span>

<span class=sd>        n_rows_peripheral2:</span>
<span class=sd>            Number of rows in the second peripheral table.</span>

<span class=sd>        random_state:</span>
<span class=sd>            Seed to initialize the random number generator used for</span>
<span class=sd>            the dataset creation. If set to None, the seed will be the</span>
<span class=sd>            &#39;microsecond&#39; component of</span>
<span class=sd>            `datetime.datetime.now()`.</span>

<span class=sd>        population_name:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the population</span>
<span class=sd>            table. If set to a name already existing on the getML</span>
<span class=sd>            Engine, the corresponding [`DataFrame`][getml.DataFrame]</span>
<span class=sd>            will be overwritten. If set to an empty string, a unique</span>
<span class=sd>            name will be generated by concatenating</span>
<span class=sd>            `snowflake_population_` and the seed of the random</span>
<span class=sd>            number generator.</span>

<span class=sd>        peripheral_name1:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the first</span>
<span class=sd>            peripheral table. If set to a name already existing on the</span>
<span class=sd>            getML Engine, the corresponding</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] will be overwritten. If</span>
<span class=sd>            set to an empty string, a unique name will be generated by</span>
<span class=sd>            concatenating `snowflake_peripheral_1_` and the seed of the</span>
<span class=sd>            random number generator.</span>

<span class=sd>        peripheral_name2:</span>
<span class=sd>            Name assigned to the</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] holding the second</span>
<span class=sd>            peripheral table. If set to a name already existing on the</span>
<span class=sd>            getML Engine, the corresponding</span>
<span class=sd>            [`DataFrame`][getml.DataFrame] will be overwritten. If</span>
<span class=sd>            set to an empty string, a unique name will be generated by</span>
<span class=sd>            concatenating `snowflake_peripheral_2_` and the seed of the</span>
<span class=sd>            random number generator.</span>

<span class=sd>        aggregation1:</span>
<span class=sd>            [aggregations][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column in the first peripheral table.</span>

<span class=sd>        aggregation2:</span>
<span class=sd>            [aggregations][getml.feature_learning.aggregations] used to generate the &#39;target&#39;</span>
<span class=sd>            column in the second peripheral table.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The dataframes are:</span>

<span class=sd>            * population ([`DataFrame`][getml.DataFrame]): Population table</span>
<span class=sd>            * peripheral ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>            * peripheral_2 ([`DataFrame`][getml.DataFrame]): Peripheral table</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>random_state</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>random_state</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span><span class=o>.</span><span class=n>microsecond</span>

    <span class=n>random</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>RandomState</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>  <span class=c1># pylint: disable=E1101</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral1</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=nb>int</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>n_rows_population</span><span class=p>)</span> <span class=o>*</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_peripheral1</span><span class=p>)</span>
    <span class=p>]</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;join_key2&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_peripheral1</span><span class=p>)</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral1</span><span class=p>)</span>

    <span class=n>peripheral_table2</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>()</span>
    <span class=n>peripheral_table2</span><span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral2</span><span class=p>)</span> <span class=o>*</span> <span class=mf>2.0</span> <span class=o>-</span> <span class=mf>1.0</span>
    <span class=n>peripheral_table2</span><span class=p>[</span><span class=s2>&quot;join_key2&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=nb>int</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>n_rows_peripheral1</span><span class=p>)</span> <span class=o>*</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>1</span><span class=p>)[</span><span class=mi>0</span><span class=p>])</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>n_rows_peripheral2</span><span class=p>)</span>
    <span class=p>]</span>
    <span class=n>peripheral_table2</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral2&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=n>n_rows_peripheral2</span><span class=p>)</span>

    <span class=c1># ----------------</span>
    <span class=c1># Merge peripheral_table with peripheral_table2</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>peripheral_table2</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>peripheral_table</span><span class=p>[[</span><span class=s2>&quot;join_key2&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key2&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=p>[</span>
        <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral2&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>])</span>
        <span class=o>&amp;</span> <span class=p>(</span><span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral2&quot;</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>temp</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>-</span> <span class=mf>0.5</span><span class=p>)</span>
    <span class=p>]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp</span> <span class=o>=</span> <span class=n>_aggregate</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>aggregation2</span><span class=p>,</span> <span class=s2>&quot;column_01&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key2&quot;</span><span class=p>)</span>

    <span class=n>temp</span> <span class=o>=</span> <span class=n>temp</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;column_01&quot;</span><span class=p>:</span> <span class=s2>&quot;temporary&quot;</span><span class=p>})</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key2&quot;</span><span class=p>)</span>

    <span class=k>del</span> <span class=n>temp</span>

    <span class=c1># Replace NaN with 0.0</span>
    <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;temporary&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=mf>0.0</span> <span class=k>if</span> <span class=n>val</span> <span class=o>!=</span> <span class=n>val</span> <span class=k>else</span> <span class=n>val</span> <span class=k>for</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;temporary&quot;</span><span class=p>]</span>
    <span class=p>]</span>

    <span class=c1># ----------------</span>
    <span class=c1># Merge population_table with peripheral_table</span>

    <span class=n>temp2</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span>
        <span class=n>population_table</span><span class=p>[[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;time_stamp_population&quot;</span><span class=p>]],</span>
        <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span>
        <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># Apply some conditions</span>
    <span class=n>temp2</span> <span class=o>=</span> <span class=n>temp2</span><span class=p>[(</span><span class=n>temp2</span><span class=p>[</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>temp2</span><span class=p>[</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>])]</span>

    <span class=c1># Define the aggregation</span>
    <span class=n>temp2</span> <span class=o>=</span> <span class=n>_aggregate</span><span class=p>(</span><span class=n>temp2</span><span class=p>,</span> <span class=n>aggregation1</span><span class=p>,</span> <span class=s2>&quot;temporary&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=n>temp2</span> <span class=o>=</span> <span class=n>temp2</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;temporary&quot;</span><span class=p>:</span> <span class=s2>&quot;targets&quot;</span><span class=p>})</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>temp2</span><span class=p>,</span> <span class=n>how</span><span class=o>=</span><span class=s2>&quot;left&quot;</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=s2>&quot;join_key&quot;</span><span class=p>)</span>

    <span class=k>del</span> <span class=n>temp2</span>

    <span class=c1># Replace NaN targets with 0.0 - target values may never be NaN!.</span>
    <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
        <span class=mf>0.0</span> <span class=k>if</span> <span class=n>val</span> <span class=o>!=</span> <span class=n>val</span> <span class=k>else</span> <span class=n>val</span> <span class=k>for</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>population_table</span><span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>]</span>
    <span class=p>]</span>

    <span class=c1># Remove temporary column.</span>
    <span class=k>del</span> <span class=n>peripheral_table</span><span class=p>[</span><span class=s2>&quot;temporary&quot;</span><span class=p>]</span>

    <span class=c1># ----------------</span>

    <span class=n>population_table</span> <span class=o>=</span> <span class=n>population_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_population&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table</span> <span class=o>=</span> <span class=n>peripheral_table</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=n>peripheral_table2</span> <span class=o>=</span> <span class=n>peripheral_table2</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span>
        <span class=n>index</span><span class=o>=</span><span class=nb>str</span><span class=p>,</span> <span class=n>columns</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;time_stamp_peripheral2&quot;</span><span class=p>:</span> <span class=s2>&quot;time_stamp&quot;</span><span class=p>}</span>
    <span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=c1># Set default names if none where provided.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>population_name</span><span class=p>:</span>
        <span class=n>population_name</span> <span class=o>=</span> <span class=s2>&quot;snowflake_population_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>peripheral_name1</span><span class=p>:</span>
        <span class=n>peripheral_name1</span> <span class=o>=</span> <span class=s2>&quot;snowflake_peripheral_1_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>peripheral_name2</span><span class=p>:</span>
        <span class=n>peripheral_name2</span> <span class=o>=</span> <span class=s2>&quot;snowflake_peripheral_2_&quot;</span> <span class=o>+</span> <span class=nb>str</span><span class=p>(</span><span class=n>random_state</span><span class=p>)</span>

    <span class=c1># Create the data.DataFrame counterpart.</span>
    <span class=n>population_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>population_name</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
            <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;targets&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>population_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name1</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key&quot;</span><span class=p>,</span> <span class=s2>&quot;join_key2&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table</span><span class=p>)</span>

    <span class=n>peripheral_on_engine2</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>peripheral_name2</span><span class=p>,</span>
        <span class=n>roles</span><span class=o>=</span><span class=p>{</span>
            <span class=s2>&quot;join_key&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;join_key2&quot;</span><span class=p>],</span>
            <span class=s2>&quot;numerical&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;column_01&quot;</span><span class=p>],</span>
            <span class=s2>&quot;time_stamp&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;time_stamp&quot;</span><span class=p>],</span>
        <span class=p>},</span>
    <span class=p>)</span><span class=o>.</span><span class=n>read_pandas</span><span class=p>(</span><span class=n>peripheral_table2</span><span class=p>)</span>

    <span class=c1># ----------------</span>

    <span class=k>return</span> <span class=n>population_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine</span><span class=p>,</span> <span class=n>peripheral_on_engine2</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-attribute"> <h2 id=getml.datasets.base.DataFrameT class="doc doc-heading"> <span class="doc doc-object-name doc-attribute-name">DataFrameT</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=n>DataFrameT</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener">Union</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=getml.data.DataFrame href=../../data/data_frame/#getml.data.DataFrame>DataFrame</a></span><span class=p>,</span> <span class=n><span title=pandas.DataFrame>DataFrame</span></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents first"> <p>DataFrame types for builtin demonstration datasets</p> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 24, 2024</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg> </span> <span>GitHub</span> <nav> <a href="https://github.com/awaismirza92" class="md-author" title="@awaismirza92" target="_blank" rel="noopener"> <img src="../../../assets/external/avatars.githubusercontent.com/u/47096947.fe356448.jpg" alt="awaismirza92"> </a> </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 – Code17 GmbH </div> </div> <div class=md-social> <a href="https://github.com/getml" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href="https://hub.docker.com/r/getml/getml" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> <a href="https://pypi.org/project/getml/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg> </a> <a href="https://www.youtube.com/@code17-gmbh" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href="https://www.linkedin.com/company/code17-gmbh" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "navigation.expand", "navigation.indexes", "navigation.instant.prefetch", "navigation.path", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking"], "search": "../../../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.9c5b6415.min.js></script> <script src="../../../assets/external/cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> <script src=../../../assets/javascripts/custom.js></script> </body> </html>